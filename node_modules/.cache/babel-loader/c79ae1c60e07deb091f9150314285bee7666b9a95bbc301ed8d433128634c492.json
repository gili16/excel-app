{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landa\\\\Documents\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05D9\\u05D3\\\\react\\\\my-final-project\\\\src\\\\components\\\\UserProfileImage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Avatar from \"@mui/material/Avatar\";\nimport { useAppSelector } from '../redux/store';\nimport { selectUser } from '../redux/user/user.selector';\nimport { stringToBlob } from '../utils/stringToBlob.utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Picture = props => {\n  _s();\n  const [pictureUrl, setPictureUrl] = useState(null);\n  const user = useAppSelector(selectUser).user;\n  useEffect(() => {\n    const fetchPicture = async () => {\n      if (props.id != 0) {\n        const blob = stringToBlob(user === null || user === void 0 ? void 0 : user.pictureBytes, null, null);\n        const url = URL.createObjectURL(blob);\n        setPictureUrl(url);\n      }\n    };\n    fetchPicture();\n\n    // Clean up URL object when component unmounts\n    return () => {\n      if (pictureUrl) {\n        URL.revokeObjectURL(pictureUrl);\n      }\n    };\n  }, [props.id]);\n  if (!pictureUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Avatar, {\n      alt: \"Remy Sharp\",\n      src: pictureUrl,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: pictureUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n_s(Picture, \"VXrkZrD8TEyaS9GLlSHkKr0OTsE=\", false, function () {\n  return [useAppSelector];\n});\n_c = Picture;\nexport default Picture;\nvar _c;\n$RefreshReg$(_c, \"Picture\");","map":{"version":3,"names":["React","useState","useEffect","Avatar","useAppSelector","selectUser","stringToBlob","jsxDEV","_jsxDEV","Fragment","_Fragment","Picture","props","_s","pictureUrl","setPictureUrl","user","fetchPicture","id","blob","pictureBytes","url","URL","createObjectURL","revokeObjectURL","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","src","_c","$RefreshReg$"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/components/UserProfileImage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {getUsers} from '../services/user';\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport axios from '../utils/axios';\r\nimport { useAppSelector } from '../redux/store';\r\nimport { selectUser } from '../redux/user/user.selector';\r\nimport { stringToBlob } from '../utils/stringToBlob.utils';\r\ninterface PictureProps {\r\n  id: number;\r\n}\r\n\r\nconst Picture: React.FC<PictureProps> = (props:{ id:number }) => {\r\n  const [pictureUrl, setPictureUrl] = useState<string | null>(null);\r\n  const user=useAppSelector(selectUser).user\r\n \r\n  useEffect(() => {\r\n    const fetchPicture = async () => {\r\n        if(props.id!=0){\r\n          const blob =  stringToBlob(user?.pictureBytes,null,null);\r\n          const url = URL.createObjectURL(blob);\r\n          setPictureUrl(url);\r\n    }\r\n    };\r\n\r\n    fetchPicture();\r\n\r\n    // Clean up URL object when component unmounts\r\n    return () => {\r\n      if (pictureUrl) {\r\n        URL.revokeObjectURL(pictureUrl);\r\n      }\r\n    };\r\n  },[props.id]);\r\n\r\n  if (!pictureUrl) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return <>\r\n  <Avatar alt=\"Remy Sharp\" src={pictureUrl} >\r\n    <img  src={pictureUrl}/></Avatar></>;\r\n};\r\n\r\nexport default Picture;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,MAAM,MAAM,sBAAsB;AAEzC,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,SAASC,UAAU,QAAQ,6BAA6B;AACxD,SAASC,YAAY,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAK3D,MAAMC,OAA+B,GAAIC,KAAmB,IAAK;EAAAC,EAAA;EAC/D,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAgB,IAAI,CAAC;EACjE,MAAMe,IAAI,GAACZ,cAAc,CAACC,UAAU,CAAC,CAACW,IAAI;EAE1Cd,SAAS,CAAC,MAAM;IACd,MAAMe,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAGL,KAAK,CAACM,EAAE,IAAE,CAAC,EAAC;QACb,MAAMC,IAAI,GAAIb,YAAY,CAACU,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,YAAY,EAAC,IAAI,EAAC,IAAI,CAAC;QACxD,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;QACrCJ,aAAa,CAACM,GAAG,CAAC;MACxB;IACA,CAAC;IAEDJ,YAAY,CAAC,CAAC;;IAEd;IACA,OAAO,MAAM;MACX,IAAIH,UAAU,EAAE;QACdQ,GAAG,CAACE,eAAe,CAACV,UAAU,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAC,CAACF,KAAK,CAACM,EAAE,CAAC,CAAC;EAEb,IAAI,CAACJ,UAAU,EAAE;IACf,oBAAON,OAAA;MAAAiB,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,oBAAOrB,OAAA,CAAAE,SAAA;IAAAe,QAAA,eACPjB,OAAA,CAACL,MAAM;MAAC2B,GAAG,EAAC,YAAY;MAACC,GAAG,EAAEjB,UAAW;MAAAW,QAAA,eACvCjB,OAAA;QAAMuB,GAAG,EAAEjB;MAAW;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC,gBAAE,CAAC;AACxC,CAAC;AAAChB,EAAA,CA9BIF,OAA+B;EAAA,QAExBP,cAAc;AAAA;AAAA4B,EAAA,GAFrBrB,OAA+B;AAgCrC,eAAeA,OAAO;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}