{"ast":null,"code":"import { getUserByToken } from \"../services/user\";\n// export async function myTrack(track:Track, user:User){\n//     const token=localStorage.getItem('user')\n//     if(isValidToken(token)){\n//         let response=await fetch(`https://localhost:7090/api/Track/MyTracks/${user.id}`);\n//         if(response){\n//             let tracks=await response.json() as Track[]\n//             tracks.forEach(element => {\n//                 if(element.id===track.id){\n//                     return true;\n//                 }\n//             });\n//         }\n//     }\n\n//     return false;\n// }\n\nexport async function thisIsMe(user) {\n  const token = localStorage.getItem('user');\n  if (token !== null && token !== undefined && token !== '') {\n    let myUser = (await getUserByToken()).data;\n    if (user !== undefined && user.id === myUser.id) {\n      return true;\n    }\n  }\n  return false;\n}\nexport function isValidToken(token) {\n  return token !== null && token !== undefined && token !== '';\n}\nexport function iAmLoggedIn(token, user) {\n  return token === null || token === undefined || token === '' || user === undefined || user === null;\n}","map":{"version":3,"names":["getUserByToken","thisIsMe","user","token","localStorage","getItem","undefined","myUser","data","id","isValidToken","iAmLoggedIn"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/utils/authorizeAccess.uril.ts"],"sourcesContent":["\r\nimport { getTrackById, getTracks } from \"../services/track\";\r\nimport { getUserByToken } from \"../services/user\";\r\nimport { Track } from \"../types/Track\";\r\nimport { User } from \"../types/user.types\";\r\n\r\n// export async function myTrack(track:Track, user:User){\r\n//     const token=localStorage.getItem('user')\r\n//     if(isValidToken(token)){\r\n//         let response=await fetch(`https://localhost:7090/api/Track/MyTracks/${user.id}`);\r\n//         if(response){\r\n//             let tracks=await response.json() as Track[]\r\n//             tracks.forEach(element => {\r\n//                 if(element.id===track.id){\r\n//                     return true;\r\n//                 }\r\n//             });\r\n//         }\r\n//     }\r\n    \r\n//     return false;\r\n// }\r\n\r\nexport async function thisIsMe(user:User|undefined){\r\n    const token=localStorage.getItem('user')\r\n    if(token!==null&&token!==undefined&&token!==''){\r\n        let myUser= (await getUserByToken()).data\r\n        if(user!==undefined&&user.id===myUser.id){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n\r\n}\r\n\r\nexport function isValidToken(token:string|null){\r\n    return token!==null&&token!==undefined&&token!=='';\r\n}\r\n\r\nexport function iAmLoggedIn(token:string|null|undefined, user:User|null|undefined){\r\n    return token===null||token===undefined||token===''||user===undefined||user===null;\r\n}"],"mappings":"AAEA,SAASA,cAAc,QAAQ,kBAAkB;AAIjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO,eAAeC,QAAQA,CAACC,IAAmB,EAAC;EAC/C,MAAMC,KAAK,GAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EACxC,IAAGF,KAAK,KAAG,IAAI,IAAEA,KAAK,KAAGG,SAAS,IAAEH,KAAK,KAAG,EAAE,EAAC;IAC3C,IAAII,MAAM,GAAE,CAAC,MAAMP,cAAc,CAAC,CAAC,EAAEQ,IAAI;IACzC,IAAGN,IAAI,KAAGI,SAAS,IAAEJ,IAAI,CAACO,EAAE,KAAGF,MAAM,CAACE,EAAE,EAAC;MACrC,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAEhB;AAEA,OAAO,SAASC,YAAYA,CAACP,KAAiB,EAAC;EAC3C,OAAOA,KAAK,KAAG,IAAI,IAAEA,KAAK,KAAGG,SAAS,IAAEH,KAAK,KAAG,EAAE;AACtD;AAEA,OAAO,SAASQ,WAAWA,CAACR,KAA2B,EAAED,IAAwB,EAAC;EAC9E,OAAOC,KAAK,KAAG,IAAI,IAAEA,KAAK,KAAGG,SAAS,IAAEH,KAAK,KAAG,EAAE,IAAED,IAAI,KAAGI,SAAS,IAAEJ,IAAI,KAAG,IAAI;AACrF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}