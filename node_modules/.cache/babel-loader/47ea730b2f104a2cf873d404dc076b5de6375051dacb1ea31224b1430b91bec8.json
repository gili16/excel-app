{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landa\\\\Documents\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05D9\\u05D3\\\\react\\\\my-final-project\\\\src\\\\sections\\\\MyTracks.tsx\",\n  _s = $RefreshSig$();\nimport { Avatar, Box, Grid, createSvgIcon } from \"@mui/material\";\nimport { grey } from \"@mui/material/colors\";\nimport { useEffect, useState } from \"react\";\nimport CardTrack from \"../components/CardTrack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectTrack } from \"../redux/track/track.selector\";\nimport { getAllTracks } from \"../redux/track/track.slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PlusIcon = createSvgIcon(\n/*#__PURE__*/\n// credit: plus icon from https://heroicons.com/\n_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  strokeWidth: 1.5,\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 4.5v15m7.5-7.5h-15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 3\n}, this), 'Plus');\n_c = PlusIcon;\nexport default function MyTracks() {\n  _s();\n  const tracks = useSelector(selectTrack);\n  const dispatch = useDispatch();\n  const [uploaded, setUploaded] = useState(false);\n  const [token, setToken] = useState(\"\");\n  loadTracks();\n  useEffect(() => {\n    setToken(localStorage.getItem('user'));\n    console.log(\"hi\");\n  }, []);\n  async function loadTracks() {\n    let token = localStorage.getItem('user');\n    if (token !== undefined && token !== null && token !== \"\") {\n      try {\n        console.log(\"hello4\");\n        console.log(token);\n        const response = await fetch(`https://localhost:7090/api/User/UserByToken`, {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n        if (response) {\n          let id = (await response.json()).id;\n          console.log(id);\n          try {\n            // console.log(\"hello3\")\n            // let token=localStorage.getItem('user');\n            // console.log(token)\n            const response2 = await fetch(`https://localhost:7090/api/Track/MyTracks/${id}`, {\n              headers: {\n                \"Authorization\": `Bearer ${token}`\n              }\n            });\n            if (response2) {\n              let res = await response2.json();\n              console.log(res);\n              dispatch(getAllTracks(res));\n            } else {\n              console.error('Failed to fetch picture');\n            }\n          } catch (error) {\n            console.error('Error fetching picture:', error);\n          }\n        } else {\n          console.error('Failed to fetch picture');\n        }\n      } catch (error) {\n        console.error('Error fetching picture:', error);\n      }\n    }\n  }\n  useEffect(() => {\n    console.log(tracks);\n  }, [tracks]);\n  const handleChange = () => {};\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      gap: 2,\n      alignItems: \"center\",\n      justifyItems: \"center\",\n      alignContent: \"center\",\n      justifyContent: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: \"div\",\n        alignItems: \"center\",\n        alignContent: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            bgcolor: grey[500],\n            width: \"600px\",\n            height: \"300px\",\n            margin: '50px',\n            marginLeft: \"150px\"\n          },\n          variant: \"rounded\",\n          children: /*#__PURE__*/_jsxDEV(PlusIcon, {\n            fontSize: \"large\",\n            titleAccess: \"add track\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        gap: 2,\n        children: tracks && tracks.map(track => {\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(CardTrack, {\n              track: track\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 11\n            }, this)\n          }, track.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 16\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 14\n    }, this)\n  }, void 0, false);\n}\n_s(MyTracks, \"/a0bLyDAdIyc2rty2mxGYzkL1zs=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c2 = MyTracks;\nvar _c, _c2;\n$RefreshReg$(_c, \"PlusIcon\");\n$RefreshReg$(_c2, \"MyTracks\");","map":{"version":3,"names":["Avatar","Box","Grid","createSvgIcon","grey","useEffect","useState","CardTrack","useDispatch","useSelector","selectTrack","getAllTracks","jsxDEV","_jsxDEV","Fragment","_Fragment","PlusIcon","xmlns","fill","viewBox","strokeWidth","stroke","children","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","MyTracks","_s","tracks","dispatch","uploaded","setUploaded","token","setToken","loadTracks","localStorage","getItem","console","log","undefined","response","fetch","headers","id","json","response2","res","error","handleChange","container","gap","alignItems","justifyItems","alignContent","justifyContent","component","sx","bgcolor","width","height","margin","marginLeft","variant","fontSize","titleAccess","map","track","xs","md","_c2","$RefreshReg$"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/sections/MyTracks.tsx"],"sourcesContent":["import { Avatar, Box, Grid, Pagination, Stack, Typography, createSvgIcon } from \"@mui/material\"\r\nimport { grey } from \"@mui/material/colors\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { Track } from \"../types/Track\";\r\nimport CardTrack from \"../components/CardTrack\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectTrack } from \"../redux/track/track.selector\";\r\nimport { getAllTracks } from \"../redux/track/track.slice\";\r\nconst PlusIcon = createSvgIcon(\r\n  // credit: plus icon from https://heroicons.com/\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    strokeWidth={1.5}\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\r\n  </svg>,\r\n  'Plus',\r\n);\r\nexport default function MyTracks(){\r\n  const tracks =useSelector(selectTrack)\r\n  const dispatch=useDispatch()\r\n  const [uploaded, setUploaded]=useState<boolean>(false)\r\n  \r\n    const[token,setToken]= useState<string|null>(\"\")\r\n    loadTracks();\r\n    useEffect(()=>{\r\n        setToken(localStorage.getItem('user'))\r\n        console.log(\"hi\")\r\n        \r\n    },[])\r\n    async function loadTracks(){\r\n      let token=localStorage.getItem('user')\r\n        if(token!==undefined&&token!==null&&token!==\"\"){\r\n            try {\r\n                console.log(\"hello4\")\r\n                \r\n                console.log(token)\r\n                const response = await fetch(`https://localhost:7090/api/User/UserByToken`,{headers:{\"Authorization\": `Bearer ${token}`}});\r\n                if (response) {\r\n                    let id=(await response.json()).id\r\n                  console.log(id)\r\n                  try {\r\n                    // console.log(\"hello3\")\r\n                    // let token=localStorage.getItem('user');\r\n                    // console.log(token)\r\n                    const response2 = await fetch(`https://localhost:7090/api/Track/MyTracks/${id}`,{headers:{\"Authorization\": `Bearer ${token}`}});\r\n                    if (response2) {\r\n                        let res=await response2.json()\r\n                      console.log(res)\r\n                      dispatch(getAllTracks(res))\r\n                      \r\n                    } else {\r\n                      console.error('Failed to fetch picture');\r\n                    }\r\n                  } catch (error) {\r\n                    console.error('Error fetching picture:', error);\r\n                  }\r\n                } else {\r\n                  console.error('Failed to fetch picture');\r\n                }\r\n              } catch (error) {\r\n                console.error('Error fetching picture:', error);\r\n              }\r\n\r\n            \r\n\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n      console.log(tracks);\r\n    },[tracks])\r\n    const handleChange=()=>{\r\n\r\n    }\r\n    return <><Grid container gap={2} alignItems={\"center\"} justifyItems={\"center\"} alignContent={\"center\"} justifyContent={\"center\"}>\r\n    <Box component=\"div\" alignItems={\"center\"} alignContent={\"center\"}>\r\n      <Avatar sx={{ bgcolor: grey[500] ,width:\"600px\", height:\"300px\",margin:'50px', marginLeft:\"150px\"}} variant=\"rounded\">\r\n        <PlusIcon fontSize=\"large\" titleAccess=\"add track\"/>\r\n      </Avatar>\r\n    </Box>\r\n    <Grid container gap={2}>\r\n      {tracks&&tracks.map((track)=>{\r\n        return(<Grid xs={12} md={3} key={track.id}>\r\n          <CardTrack track={track}/>\r\n        </Grid>);\r\n      })}\r\n\r\n    </Grid></Grid>\r\n    </>\r\n}"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAiCC,aAAa,QAAQ,eAAe;AAC/F,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,WAAW,QAAQ,+BAA+B;AAC3D,SAASC,YAAY,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAC1D,MAAMC,QAAQ,GAAGb,aAAa;AAAA;AAC5B;AACAU,OAAA;EACEI,KAAK,EAAC,4BAA4B;EAClCC,IAAI,EAAC,MAAM;EACXC,OAAO,EAAC,WAAW;EACnBC,WAAW,EAAE,GAAI;EACjBC,MAAM,EAAC,cAAc;EAAAC,QAAA,eAErBT,OAAA;IAAMU,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,CAAC,EAAC;EAAwB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAC7E,CAAC,EACN,MACF,CAAC;AAACC,EAAA,GAZId,QAAQ;AAad,eAAe,SAASe,QAAQA,CAAA,EAAE;EAAAC,EAAA;EAChC,MAAMC,MAAM,GAAExB,WAAW,CAACC,WAAW,CAAC;EACtC,MAAMwB,QAAQ,GAAC1B,WAAW,CAAC,CAAC;EAC5B,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAC9B,QAAQ,CAAU,KAAK,CAAC;EAEpD,MAAK,CAAC+B,KAAK,EAACC,QAAQ,CAAC,GAAEhC,QAAQ,CAAc,EAAE,CAAC;EAChDiC,UAAU,CAAC,CAAC;EACZlC,SAAS,CAAC,MAAI;IACViC,QAAQ,CAACE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACtCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EAErB,CAAC,EAAC,EAAE,CAAC;EACL,eAAeJ,UAAUA,CAAA,EAAE;IACzB,IAAIF,KAAK,GAACG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACpC,IAAGJ,KAAK,KAAGO,SAAS,IAAEP,KAAK,KAAG,IAAI,IAAEA,KAAK,KAAG,EAAE,EAAC;MAC3C,IAAI;QACAK,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QAErBD,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;QAClB,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAE,6CAA4C,EAAC;UAACC,OAAO,EAAC;YAAC,eAAe,EAAG,UAASV,KAAM;UAAC;QAAC,CAAC,CAAC;QAC1H,IAAIQ,QAAQ,EAAE;UACV,IAAIG,EAAE,GAAC,CAAC,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC,EAAED,EAAE;UACnCN,OAAO,CAACC,GAAG,CAACK,EAAE,CAAC;UACf,IAAI;YACF;YACA;YACA;YACA,MAAME,SAAS,GAAG,MAAMJ,KAAK,CAAE,6CAA4CE,EAAG,EAAC,EAAC;cAACD,OAAO,EAAC;gBAAC,eAAe,EAAG,UAASV,KAAM;cAAC;YAAC,CAAC,CAAC;YAC/H,IAAIa,SAAS,EAAE;cACX,IAAIC,GAAG,GAAC,MAAMD,SAAS,CAACD,IAAI,CAAC,CAAC;cAChCP,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;cAChBjB,QAAQ,CAACvB,YAAY,CAACwC,GAAG,CAAC,CAAC;YAE7B,CAAC,MAAM;cACLT,OAAO,CAACU,KAAK,CAAC,yBAAyB,CAAC;YAC1C;UACF,CAAC,CAAC,OAAOA,KAAK,EAAE;YACdV,OAAO,CAACU,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;UACjD;QACF,CAAC,MAAM;UACLV,OAAO,CAACU,KAAK,CAAC,yBAAyB,CAAC;QAC1C;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD;IAIN;EACJ;EACA/C,SAAS,CAAC,MAAI;IACZqC,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC;EACrB,CAAC,EAAC,CAACA,MAAM,CAAC,CAAC;EACX,MAAMoB,YAAY,GAACA,CAAA,KAAI,CAEvB,CAAC;EACD,oBAAOxC,OAAA,CAAAE,SAAA;IAAAO,QAAA,eAAET,OAAA,CAACX,IAAI;MAACoD,SAAS;MAACC,GAAG,EAAE,CAAE;MAACC,UAAU,EAAE,QAAS;MAACC,YAAY,EAAE,QAAS;MAACC,YAAY,EAAE,QAAS;MAACC,cAAc,EAAE,QAAS;MAAArC,QAAA,gBAChIT,OAAA,CAACZ,GAAG;QAAC2D,SAAS,EAAC,KAAK;QAACJ,UAAU,EAAE,QAAS;QAACE,YAAY,EAAE,QAAS;QAAApC,QAAA,eAChET,OAAA,CAACb,MAAM;UAAC6D,EAAE,EAAE;YAAEC,OAAO,EAAE1D,IAAI,CAAC,GAAG,CAAC;YAAE2D,KAAK,EAAC,OAAO;YAAEC,MAAM,EAAC,OAAO;YAACC,MAAM,EAAC,MAAM;YAAEC,UAAU,EAAC;UAAO,CAAE;UAACC,OAAO,EAAC,SAAS;UAAA7C,QAAA,eACnHT,OAAA,CAACG,QAAQ;YAACoD,QAAQ,EAAC,OAAO;YAACC,WAAW,EAAC;UAAW;YAAA3C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNhB,OAAA,CAACX,IAAI;QAACoD,SAAS;QAACC,GAAG,EAAE,CAAE;QAAAjC,QAAA,EACpBW,MAAM,IAAEA,MAAM,CAACqC,GAAG,CAAEC,KAAK,IAAG;UAC3B,oBAAO1D,OAAA,CAACX,IAAI;YAACsE,EAAE,EAAE,EAAG;YAACC,EAAE,EAAE,CAAE;YAAAnD,QAAA,eACzBT,OAAA,CAACN,SAAS;cAACgE,KAAK,EAAEA;YAAM;cAAA7C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAC;UAAC,GADK0C,KAAK,CAACvB,EAAE;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEnC,CAAC;QACT,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC,gBACZ,CAAC;AACP;AAACG,EAAA,CAvEuBD,QAAQ;EAAA,QAChBtB,WAAW,EACVD,WAAW;AAAA;AAAAkE,GAAA,GAFJ3C,QAAQ;AAAA,IAAAD,EAAA,EAAA4C,GAAA;AAAAC,YAAA,CAAA7C,EAAA;AAAA6C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}