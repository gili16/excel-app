{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landa\\\\Documents\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05D9\\u05D3\\\\react\\\\my-final-project\\\\src\\\\components\\\\TrackStepper.tsx\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\nimport { useJsApiLoader } from '@react-google-maps/api';\nimport { k as apiKey } from '../utils/projectdata';\nimport { useEffect, useState } from 'react';\nimport getAddressByCoordinates from '../services/GoogleMaps.services';\n// const steps = [\n//   'Select master blaster campaign settings',\n//   'Create an ad group',\n//   'Create an ad',\n// ];\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TrackStepper(props) {\n  _s();\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: apiKey,\n    language: 'he'\n  });\n  const [geocoder, setGeocoder] = useState(null);\n  const [steps, setSteps] = useState(null);\n  useEffect(() => {\n    if (isLoaded) {\n      // Initialize the geocoder\n      setGeocoder(new window.google.maps.Geocoder());\n    }\n  }, [isLoaded]);\n  useEffect(() => {\n    fillMySteps();\n  }, [geocoder]);\n  async function fillMySteps() {\n    try {\n      let fillSteps = [];\n      const startAddress = await getAddressByCoordinates(geocoder, {\n        lat: props.track.startX,\n        lng: props.track.startY\n      });\n      fillSteps.push(startAddress);\n      if (props.track.stops) {\n        for (const value of props.track.stops) {\n          const address = await getAddressByCoordinates(geocoder, {\n            lat: value.x,\n            lng: value.y\n          });\n          fillSteps.push(address);\n        }\n      }\n      const endAddress = await getAddressByCoordinates(geocoder, {\n        lat: props.track.endX,\n        lng: props.track.endY\n      });\n      fillSteps.push(endAddress);\n      setSteps(fillSteps);\n      console.log(fillSteps);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  useEffect(() => {\n    console.log(steps);\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: steps === null || steps === void 0 ? void 0 : steps.length,\n      orientation: \"vertical\",\n      children: steps && steps.map((label, index) => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(TrackStepper, \"oPHShj+qZOpoRzqt2l7rU6PfzZk=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = TrackStepper;\nvar _c;\n$RefreshReg$(_c, \"TrackStepper\");","map":{"version":3,"names":["React","Box","Stepper","Step","StepLabel","useJsApiLoader","k","apiKey","useEffect","useState","getAddressByCoordinates","jsxDEV","_jsxDEV","TrackStepper","props","_s","isLoaded","id","googleMapsApiKey","language","geocoder","setGeocoder","steps","setSteps","window","google","maps","Geocoder","fillMySteps","fillSteps","startAddress","lat","track","startX","lng","startY","push","stops","value","address","x","y","endAddress","endX","endY","console","log","error","sx","width","children","activeStep","length","orientation","map","label","index","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/components/TrackStepper.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport { Track } from '../types/Track';\r\nimport { GoogleMap, useJsApiLoader, Marker } from '@react-google-maps/api';\r\nimport { k as apiKey } from '../utils/projectdata';\r\nimport { useEffect, useState } from 'react';\r\nimport getAddressByCoordinates from '../services/GoogleMaps.services';\r\n// const steps = [\r\n//   'Select master blaster campaign settings',\r\n//   'Create an ad group',\r\n//   'Create an ad',\r\n// ];\r\n\r\nexport default function TrackStepper(props:{track:Track}) {\r\n    const { isLoaded } = useJsApiLoader({\r\n        id: 'google-map-script',\r\n        googleMapsApiKey: apiKey,\r\n        language: 'he',\r\n      });\r\n      const [geocoder, setGeocoder] = useState<google.maps.Geocoder|null>(null);\r\n      const[steps, setSteps]=useState<string[]|null>(null)\r\n      useEffect(() => {\r\n        if (isLoaded) {\r\n          // Initialize the geocoder\r\n          setGeocoder(new window.google.maps.Geocoder());\r\n        }\r\n      }, [isLoaded]);\r\n      useEffect(()=>{\r\n        fillMySteps();\r\n      },[geocoder])\r\n      async function fillMySteps() {\r\n        try {\r\n            let fillSteps = [] as string[];\r\n    \r\n            const startAddress = await getAddressByCoordinates(geocoder, { lat: props.track.startX, lng: props.track.startY });\r\n            fillSteps.push(startAddress);\r\n            if (props.track.stops) {\r\n              for (const value of props.track.stops) {\r\n                  const address = await getAddressByCoordinates(geocoder, { lat: value.x, lng: value.y });\r\n                  fillSteps.push(address);\r\n              }\r\n          }\r\n            const endAddress = await getAddressByCoordinates(geocoder, { lat: props.track.endX, lng: props.track.endY });\r\n            fillSteps.push(endAddress);\r\n    \r\n            \r\n    \r\n            setSteps(fillSteps);\r\n            console.log(fillSteps);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    \r\n      useEffect(()=>{\r\n        console.log(steps)\r\n      })\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Stepper activeStep={steps?.length} orientation=\"vertical\">\r\n        {steps&&steps.map((label,index) => (\r\n          <Step key={index}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n    </Box>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}