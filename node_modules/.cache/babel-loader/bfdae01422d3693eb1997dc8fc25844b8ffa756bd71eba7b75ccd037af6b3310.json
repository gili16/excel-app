{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landa\\\\Documents\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05D9\\u05D3\\\\react\\\\my-final-project\\\\src\\\\pages\\\\MyFavoritesPage.tsx\",\n  _s = $RefreshSig$();\nimport MyFavorites from \"../sections/MyFavorites.section\";\nimport { useEffect, useState } from \"react\";\nimport { selectUser } from \"../redux/user/user.selector\";\nimport { useAppSelector } from \"../redux/store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MyFavoritesPage() {\n  _s();\n  const user = useAppSelector(selectUser).user;\n  const [data, setData] = useState([]);\n  const [index, setIndex] = useState(undefined);\n  useEffect(() => {\n    setData(user.favourites !== undefined ? user.favourites : []);\n  }, []);\n  useEffect(() => {\n    if (index !== undefined) {\n      setData([...data.filter(value => {\n        return value.id !== index;\n      })]);\n      setIndex(undefined);\n    }\n  }, [index]);\n  return /*#__PURE__*/_jsxDEV(MyFavorites, {\n    tracks: data,\n    setIndex: setIndex\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 12\n  }, this);\n}\n_s(MyFavoritesPage, \"bBtEA0RNUp00BYsqdcuXxycm3ek=\", false, function () {\n  return [useAppSelector];\n});\n_c = MyFavoritesPage;\nvar _c;\n$RefreshReg$(_c, \"MyFavoritesPage\");","map":{"version":3,"names":["MyFavorites","useEffect","useState","selectUser","useAppSelector","jsxDEV","_jsxDEV","MyFavoritesPage","_s","user","data","setData","index","setIndex","undefined","favourites","filter","value","id","tracks","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/pages/MyFavoritesPage.tsx"],"sourcesContent":["import { useLoaderData } from \"react-router-dom\";\r\nimport MyFavorites from \"../sections/MyFavorites.section\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getUser, getUserByToken } from \"../services/user\";\r\nimport { User } from \"../types/user.types\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../redux/user/user.selector\";\r\nimport { Track } from \"../types/Track\";\r\nimport { useAppSelector } from \"../redux/store\";\r\n\r\nexport default function MyFavoritesPage(){\r\n    const user=useAppSelector(selectUser).user;\r\n    const[data,setData]=useState<Track[]>([])\r\n    const[index,setIndex]=useState<number|undefined>(undefined)\r\n    useEffect(()=>{\r\n        setData((user!.favourites!==undefined)?user!.favourites:[])\r\n    },[])\r\n    useEffect(()=>{\r\n        if(index!==undefined){\r\n            setData([...data.filter((value:any)=>{\r\n                return value.id!==index\r\n            })]);\r\n            setIndex(undefined)\r\n        }\r\n    },[index])\r\n\r\n    \r\n    return <MyFavorites tracks={data} setIndex={setIndex}/>\r\n}"],"mappings":";;AACA,OAAOA,WAAW,MAAM,iCAAiC;AACzD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAI3C,SAASC,UAAU,QAAQ,6BAA6B;AAExD,SAASC,cAAc,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,eAAe,SAASC,eAAeA,CAAA,EAAE;EAAAC,EAAA;EACrC,MAAMC,IAAI,GAACL,cAAc,CAACD,UAAU,CAAC,CAACM,IAAI;EAC1C,MAAK,CAACC,IAAI,EAACC,OAAO,CAAC,GAACT,QAAQ,CAAU,EAAE,CAAC;EACzC,MAAK,CAACU,KAAK,EAACC,QAAQ,CAAC,GAACX,QAAQ,CAAmBY,SAAS,CAAC;EAC3Db,SAAS,CAAC,MAAI;IACVU,OAAO,CAAEF,IAAI,CAAEM,UAAU,KAAGD,SAAS,GAAEL,IAAI,CAAEM,UAAU,GAAC,EAAE,CAAC;EAC/D,CAAC,EAAC,EAAE,CAAC;EACLd,SAAS,CAAC,MAAI;IACV,IAAGW,KAAK,KAAGE,SAAS,EAAC;MACjBH,OAAO,CAAC,CAAC,GAAGD,IAAI,CAACM,MAAM,CAAEC,KAAS,IAAG;QACjC,OAAOA,KAAK,CAACC,EAAE,KAAGN,KAAK;MAC3B,CAAC,CAAC,CAAC,CAAC;MACJC,QAAQ,CAACC,SAAS,CAAC;IACvB;EACJ,CAAC,EAAC,CAACF,KAAK,CAAC,CAAC;EAGV,oBAAON,OAAA,CAACN,WAAW;IAACmB,MAAM,EAAET,IAAK;IAACG,QAAQ,EAAEA;EAAS;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC;AAC3D;AAACf,EAAA,CAlBuBD,eAAe;EAAA,QACxBH,cAAc;AAAA;AAAAoB,EAAA,GADLjB,eAAe;AAAA,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}