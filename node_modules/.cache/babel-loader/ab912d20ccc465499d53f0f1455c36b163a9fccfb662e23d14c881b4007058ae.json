{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\landa\\\\Documents\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\\\u05EA\\u05DB\\u05E0\\u05D5\\u05EA \\u05D9\\u05D3\\\\react\\\\my-final-project\\\\src\\\\components\\\\UserProfileImage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport { makeStyles } from '@mui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    width: theme.spacing(7),\n    // Adjust the size of the avatar as needed\n    height: theme.spacing(7),\n    overflow: 'hidden',\n    // Ensure the image doesn't overflow the Avatar boundary\n    borderRadius: '50%',\n    // Ensure the Avatar is circular\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover' // Make the image cover the entire area of the Avatar\n  }\n}));\nconst Picture = ({\n  id\n}) => {\n  _s();\n  const [pictureUrl, setPictureUrl] = useState(null);\n  const classes = useS;\n  useEffect(() => {\n    const fetchPicture = async () => {\n      if (id !== 0) {\n        try {\n          const response = await fetch(`https://localhost:7090/api/User/${id}/picture`);\n          if (response.ok) {\n            const blob = await response.blob();\n            const url = URL.createObjectURL(blob);\n            setPictureUrl(url);\n          } else {\n            console.error('Failed to fetch picture');\n          }\n        } catch (error) {\n          console.error('Error fetching picture:', error);\n        }\n      }\n    };\n    fetchPicture();\n\n    // Clean up URL object when component unmounts\n    return () => {\n      if (pictureUrl) {\n        URL.revokeObjectURL(pictureUrl);\n      }\n    };\n  }, [id]);\n  if (!pictureUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Avatar, {\n      alt: \"Remy Sharp\",\n      src: pictureUrl,\n      sx: {\n        objectFit: 'cover'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n_s(Picture, \"3fws9zWANCMEJhnO8/vpzDz1Mjc=\");\n_c = Picture;\nexport default Picture;\nvar _c;\n$RefreshReg$(_c, \"Picture\");","map":{"version":3,"names":["React","useState","useEffect","Avatar","makeStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","theme","avatar","width","spacing","height","overflow","borderRadius","display","alignItems","justifyContent","image","objectFit","Picture","id","_s","pictureUrl","setPictureUrl","classes","useS","fetchPicture","response","fetch","ok","blob","url","URL","createObjectURL","console","error","revokeObjectURL","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","src","sx","_c","$RefreshReg$"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/components/UserProfileImage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {getUsers} from '../services/user';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport axios from '../utils/axios.util';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme:any) => ({\r\n  avatar: {\r\n    width: theme.spacing(7), // Adjust the size of the avatar as needed\r\n    height: theme.spacing(7),\r\n    overflow: 'hidden', // Ensure the image doesn't overflow the Avatar boundary\r\n    borderRadius: '50%', // Ensure the Avatar is circular\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover', // Make the image cover the entire area of the Avatar\r\n  },\r\n}));\r\ninterface PictureProps {\r\n  id: number;\r\n}\r\n\r\nconst Picture: React.FC<PictureProps> = ({ id }) => {\r\n  const [pictureUrl, setPictureUrl] = useState<string | null>(null);\r\n  const classes=useS\r\n  useEffect(() => {\r\n    const fetchPicture = async () => {\r\n        if(id!==0){\r\n      try {\r\n        const response = await fetch(`https://localhost:7090/api/User/${id}/picture`);\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const url = URL.createObjectURL(blob);\r\n          setPictureUrl(url);\r\n        } else {\r\n          console.error('Failed to fetch picture');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching picture:', error);\r\n      }\r\n    }\r\n    };\r\n\r\n    fetchPicture();\r\n\r\n    // Clean up URL object when component unmounts\r\n    return () => {\r\n      if (pictureUrl) {\r\n        URL.revokeObjectURL(pictureUrl);\r\n      }\r\n    };\r\n  }, [id]);\r\n\r\n  if (!pictureUrl) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return <>\r\n  {/* <img src={pictureUrl} alt=\"mdo\" width=\"32\" height=\"32\" className=\"rounded-circle\"/> */}\r\n  <Avatar alt=\"Remy Sharp\" src={pictureUrl} sx={{objectFit:'cover'}}/></>;\r\n};\r\n\r\nexport default Picture;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,MAAM,MAAM,sBAAsB;AAEzC,SAASC,UAAU,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEzC,MAAMC,SAAS,GAAGL,UAAU,CAAEM,KAAS,KAAM;EAC3CC,MAAM,EAAE;IACNC,KAAK,EAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;IAAE;IACzBC,MAAM,EAAEJ,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC;IACxBE,QAAQ,EAAE,QAAQ;IAAE;IACpBC,YAAY,EAAE,KAAK;IAAE;IACrBC,OAAO,EAAE,MAAM;IACfC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDC,KAAK,EAAE;IACLR,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,MAAM;IACdO,SAAS,EAAE,OAAO,CAAE;EACtB;AACF,CAAC,CAAC,CAAC;AAKH,MAAMC,OAA+B,GAAGA,CAAC;EAAEC;AAAG,CAAC,KAAK;EAAAC,EAAA;EAClD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAgB,IAAI,CAAC;EACjE,MAAM0B,OAAO,GAACC,IAAI;EAClB1B,SAAS,CAAC,MAAM;IACd,MAAM2B,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAGN,EAAE,KAAG,CAAC,EAAC;QACZ,IAAI;UACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCR,EAAG,UAAS,CAAC;UAC7E,IAAIO,QAAQ,CAACE,EAAE,EAAE;YACf,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAI,CAAC,CAAC;YAClC,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;YACrCP,aAAa,CAACQ,GAAG,CAAC;UACpB,CAAC,MAAM;YACLG,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC;UAC1C;QACF,CAAC,CAAC,OAAOA,KAAK,EAAE;UACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QACjD;MACF;IACA,CAAC;IAEDT,YAAY,CAAC,CAAC;;IAEd;IACA,OAAO,MAAM;MACX,IAAIJ,UAAU,EAAE;QACdU,GAAG,CAACI,eAAe,CAACd,UAAU,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACF,EAAE,CAAC,CAAC;EAER,IAAI,CAACE,UAAU,EAAE;IACf,oBAAOnB,OAAA;MAAAkC,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EAEA,oBAAOtC,OAAA,CAAAE,SAAA;IAAAgC,QAAA,eAEPlC,OAAA,CAACH,MAAM;MAAC0C,GAAG,EAAC,YAAY;MAACC,GAAG,EAAErB,UAAW;MAACsB,EAAE,EAAE;QAAC1B,SAAS,EAAC;MAAO;IAAE;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC,gBAAE,CAAC;AACzE,CAAC;AAACpB,EAAA,CAtCIF,OAA+B;AAAA0B,EAAA,GAA/B1B,OAA+B;AAwCrC,eAAeA,OAAO;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}