{"ast":null,"code":"import { addUser as addUserApi, getUser } from '../../services/user';\nimport { addUser as addUserAction } from './user.slice';\nimport { getUserByToken as getUserApi } from \"../../services/user\";\nexport const addUser = user => async (dispatch, getState) => {\n  // const state = getState()// אם רוצים לקבל מידע מהרידקס כדי לשלוח לקריאת שרת\n\n  console.log(\"hello\");\n  const newUser = await addUserApi(user);\n  dispatch(addUserAction(newUser));\n  console.log(newUser);\n  return newUser;\n};\nexport const Login = token => async (dispatch, getState) => {\n  // const state = getState()// אם רוצים לקבל מידע מהרידקס כדי לשלוח לקריאת שרת\n  console.log(\"hello\");\n  // let token=await Login(email);\n  // localStorage.setItem('user',token);\n  const userByToken = await getUserApi(token);\n  const res = await userByToken.json();\n  const user = await getUser(res.id);\n  dispatch(addUserAction(user));\n  return user;\n};","map":{"version":3,"names":["addUser","addUserApi","getUser","addUserAction","getUserByToken","getUserApi","user","dispatch","getState","console","log","newUser","Login","token","userByToken","res","json","id"],"sources":["C:/Users/landa/Documents/לימודים/תכנות יד/react/my-final-project/src/redux/user/user.thunk.ts"],"sourcesContent":["import { User } from \"../../types/user.types\";\r\nimport { addUser as addUserApi, getUser } from '../../services/user'\r\nimport { AppThunk } from \"../store\";\r\nimport { addUser as addUserAction } from './user.slice'\r\nimport { getUserByToken as getUserApi } from \"../../services/user\";\r\nexport const addUser = (user: FormData): AppThunk<User> => async (dispatch, getState) => {\r\n    \r\n    // const state = getState()// אם רוצים לקבל מידע מהרידקס כדי לשלוח לקריאת שרת\r\n    \r\n    console.log(\"hello\")\r\n    const newUser = await addUserApi(user)\r\n    dispatch(addUserAction(newUser))\r\n    console.log(newUser)\r\n    return newUser\r\n}\r\n\r\nexport const Login = (token: string): AppThunk<User> => async (dispatch, getState) => {\r\n    // const state = getState()// אם רוצים לקבל מידע מהרידקס כדי לשלוח לקריאת שרת\r\n    console.log(\"hello\")\r\n    // let token=await Login(email);\r\n    // localStorage.setItem('user',token);\r\n    const userByToken=await getUserApi(token)\r\n    const res=await userByToken.json()\r\n    const user=await getUser(res.id)\r\n    dispatch(addUserAction(user))\r\n    return user\r\n    \r\n}"],"mappings":"AACA,SAASA,OAAO,IAAIC,UAAU,EAAEC,OAAO,QAAQ,qBAAqB;AAEpE,SAASF,OAAO,IAAIG,aAAa,QAAQ,cAAc;AACvD,SAASC,cAAc,IAAIC,UAAU,QAAQ,qBAAqB;AAClE,OAAO,MAAML,OAAO,GAAIM,IAAc,IAAqB,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAErF;;EAEAC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpB,MAAMC,OAAO,GAAG,MAAMV,UAAU,CAACK,IAAI,CAAC;EACtCC,QAAQ,CAACJ,aAAa,CAACQ,OAAO,CAAC,CAAC;EAChCF,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC;EACpB,OAAOA,OAAO;AAClB,CAAC;AAED,OAAO,MAAMC,KAAK,GAAIC,KAAa,IAAqB,OAAON,QAAQ,EAAEC,QAAQ,KAAK;EAClF;EACAC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpB;EACA;EACA,MAAMI,WAAW,GAAC,MAAMT,UAAU,CAACQ,KAAK,CAAC;EACzC,MAAME,GAAG,GAAC,MAAMD,WAAW,CAACE,IAAI,CAAC,CAAC;EAClC,MAAMV,IAAI,GAAC,MAAMJ,OAAO,CAACa,GAAG,CAACE,EAAE,CAAC;EAChCV,QAAQ,CAACJ,aAAa,CAACG,IAAI,CAAC,CAAC;EAC7B,OAAOA,IAAI;AAEf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}